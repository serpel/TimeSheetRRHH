@{
    ViewBag.Title = "Settings";
}

<!-- BEGIN PAGE TITLE -->
<div class="page-title">
</div>

<div class="row">
    <div class="col-md-5">
        <div class="grid simple">
            <div class="grid-title no-border">
                <h4>Service <span class="semi-bold">Settings</span></h4>
                <div class="tools"> <a href="javascript:;" class="collapse"></a> <a href="#grid-config" data-toggle="modal" class="config"></a> <a href="javascript:;" class="reload"></a> <a href="javascript:;" class="remove"></a> </div>
            </div>
            <div class="grid-body no-border">
                @using (Html.BeginForm("StartJob", "Device", new { @syncTimeExpression = "syncTimeExpression", @tranferRecordsExpression = "tranferRecordsExpression", @emailTimeExpression = "emailTimeExpression" }, FormMethod.Post, new { }))
                {
                    @Html.AntiForgeryToken()
                <div class="row">
                    <div class="col-md-12">
                        <h3>Inverval <span class="semi-bold">Time</span></h3>
                        <p>This config is for control the excecution time of background task running on server, read about cron expression before edit this values.</p>
                        <br>
                        @if (TempData["Message"] != null)
                        {
                            <div class="alert alert-success">
                                <button data-dismiss="alert" class="close"></button>
                                @TempData["Message"]
                            </div>
                        }
                        <div class="col-md-12 col-sm-12 col-xs-12">
                            <div class="row-fluid">
                                <div class="form-group">
                                    <label class="form-label">Sync Time Interval</label>
                                    <span class="help"> "Cron expression"</span>
                                    <div class="input-with-icon  right">
                                        <i class=""></i>                                        
                                        <input type="text" name="syncTimeExpression" id="SyncTime" class="form-control" value="0 7 * * MON-FRI">
                                    </div>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div class="form-group">
                                    <label class="form-label">Transfer Records Interval</label>
                                    <span class="help"> "Cron expression"</span>
                                    <div class="input-with-icon  right">
                                        <i class=""></i>
                                        <input type="text" name="tranferRecordsExpression" id="TranferRecords" class="form-control" value="30 8 * * MON-FRI" >
                                    </div>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div class="form-group">
                                    <label class="form-label">Email Notification Interval</label>
                                    <span class="help"> "Cron expression"</span>
                                    <div class="input-with-icon  right">
                                        <i class=""></i>
                                        <input type="text" name="emailTimeExpression" id="EmailTime" class="form-control" value="15 9 * * MON-FRI">
                                    </div>
                                </div>
                            </div>
                            <!--<div class="row-fluid">-->
                                <!--<div style="display:inline-block">-->                            
                                    <button class="btn btn-primary btn-cons" type="submit">Start</button>
                                    <!--<button class="btn btn-danger btn-cons" type="button">Stop</button>-->
                                <!--</div>-->
                                <div class="clearfix"></div>
                            <!--</div-->
                      </div>
                   </div>
                </div>
                }
            </div>
        </div>
    </div>
</div>
